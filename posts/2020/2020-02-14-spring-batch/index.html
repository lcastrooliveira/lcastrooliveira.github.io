<!DOCTYPE html><html lang="en-US"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta data-react-helmet="true" property="og:description" content="How to make a simple ETL to convert data from a CSV file into a database using Spring Batch"/><meta data-react-helmet="true" property="og:locale" content="en"/><meta data-react-helmet="true" property="og:url" content="https://lcastrooliveira.dev/posts/2020/2020-02-14-spring-batch/"/><meta data-react-helmet="true" property="og:title" content="Using Spring Batch to create an ETL for financial information | lcastrooliveira.dev"/><meta data-react-helmet="true" property="og:updated_time" content="2019-01-31"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:image:height" content="315"/><meta data-react-helmet="true" property="og:image:width" content="600"/><meta data-react-helmet="true" property="og:image:secure_url" content="https://i.imgur.com/Lz9JlCo.png"/><meta data-react-helmet="true" property="og:image" content="http://i.imgur.com/Lz9JlCo.png"/><meta data-react-helmet="true" property="og:locale:alternate" content="pt_BR"/><meta name="generator" content="Gatsby 4.12.1"/><style data-href="/styles.bc6c8b49feb7826f5fb7.css" data-identity="gatsby-global-css">.sidebar-btns{background-color:transparent;background-color:#8a2be2;background-position:50%;background-repeat:no-repeat;border:none;border-radius:.25rem;bottom:50px;color:#fff;cursor:pointer;display:none;font-size:1.125rem;height:50px;outline:none;padding:.9375rem;position:fixed;right:10%;width:50px;z-index:99}#scroll-btn,.sidebar-btns{background-image:url(/arrow-up.svg)}#scroll-btn{background-color:#461587;right:15%}.listStyle{background-color:#fff;border-radius:2px;list-style-type:none;margin:0;padding:0;position:absolute}.listItemStyle{padding:.5em;position:relative}.listItemStyle:hover{background-color:#aca2a2}.listItemStyle a{color:#000}.listItemStyle a,a{text-decoration:none}a{color:#fff}.languageSelector{background-color:#bababa;border-radius:2px;color:#000;display:inline-block;margin:0 .4em!important;padding:.5em;text-align:center;text-decoration:none}.languageSelectorSelected{border:3px solid gray}.article a{color:#000;text-decoration:none}.article:hover{background-color:#aca2a2}</style><title data-react-helmet="true">Using Spring Batch to create an ETL for financial information</title><link data-react-helmet="true" rel="alternate" hrefLang="x-default" href="https://lcastrooliveira.dev"/><link data-react-helmet="true" rel="alternate" hrefLang="en-US" href="https://lcastrooliveira.dev/posts/2020/2020-02-14-spring-batch/"/><link data-react-helmet="true" rel="alternate" hrefLang="pt-BR" href="https://lcastrooliveira.dev/pt/posts/2020/2020-02-14-spring-batch/"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="dns-prefetch" href="https://www.googletagmanager.com"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-162076837-1"></script><script>
      
      function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='UA-162076837-1',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
      if(!(navigator.doNotTrack == "1" || window.doNotTrack == "1")) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){window.dataLayer && window.dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-162076837-1', {"anonymize_ip":true,"send_page_view":false});
      }
      </script><link as="script" rel="preload" href="/webpack-runtime-7f937db2baeac1d04e2f.js"/><link as="script" rel="preload" href="/framework-d48bb74d9b35d2fed097.js"/><link as="script" rel="preload" href="/dbf3ce33-e9860c7ab2c3d4ec26ae.js"/><link as="script" rel="preload" href="/app-4d34178d7e4645edae03.js"/><link as="script" rel="preload" href="/99b7119fd52cd3d90c1cdad208f938f090fd7adb-8a5cdfe46015790e6966.js"/><link as="script" rel="preload" href="/95d32b32e96a6247500d795b14d67e6354a04d89-f51203b5a3fe19078cf0.js"/><link as="script" rel="preload" href="/component---src-templates-post-page-template-js-25a3624a989a35130dde.js"/><link as="fetch" rel="preload" href="/page-data/posts/2020/2020-02-14-spring-batch/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1239077767.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2744294623.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2744905544.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3280999885.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/4024388462.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>(function() { try {
  var mode = localStorage.getItem('theme-ui-color-mode');
  if (!mode) return
  document.documentElement.classList.add('theme-ui-' + mode);
} catch (e) {} })();</script><div id="___gatsby"><style data-emotion="css-global 3b8a9z">html{--theme-ui-colors-text:#000;--theme-ui-colors-background:#bababa;--theme-ui-colors-primary:#1f1f22;--theme-ui-colors-secondary:#461587;--theme-ui-colors-muted:#b1b1b1;color:var(--theme-ui-colors-text);background-color:var(--theme-ui-colors-background);}</style><style data-emotion="css-global h19pgh">*{box-sizing:border-box;}html{font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",sans-serif;line-height:1.5;font-weight:400;}body{margin:0;}</style><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css 12hlzpf">.css-12hlzpf{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;}</style><div class="css-12hlzpf"><div></div><style data-emotion="css 1tsye3q">.css-1tsye3q{box-sizing:border-box;margin:0;min-width:0;padding:8px;color:white;background-color:var(--theme-ui-colors-primary);}</style><div class="css-1tsye3q"><style data-emotion="css 7a2w9v">.css-7a2w9v{display:grid;grid-gap:16px;max-width:1024px;margin-left:auto;margin-right:auto;padding-left:16px;padding-right:16px;padding-top:16px;padding-bottom:16px;grid-auto-flow:row;grid-template-columns:repeat(2, 1fr);}@media screen and (min-width: 40em){.css-7a2w9v{grid-template-columns:repeat(3, 1fr);}}</style><header class="css-7a2w9v"><style data-emotion="css 1s1w6s">.css-1s1w6s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;grid-column-start:1;grid-column-end:3;-webkit-order:0;-ms-flex-order:0;order:0;}@media screen and (min-width: 40em){.css-1s1w6s{grid-column-start:2;grid-column-end:3;-webkit-order:1;-ms-flex-order:1;order:1;}}</style><div class="css-1s1w6s"><a title="Home" href="/"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:598px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;103&#x27; width=&#x27;598&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#080808;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="/static/95b27f7aa5ab05df16e73830a5825efb/88084/blog-logo.webp 150w,/static/95b27f7aa5ab05df16e73830a5825efb/a065b/blog-logo.webp 299w,/static/95b27f7aa5ab05df16e73830a5825efb/47bfd/blog-logo.webp 598w" sizes="(min-width: 598px) 598px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 598px) 598px, 100vw" decoding="async" loading="lazy" data-src="/static/95b27f7aa5ab05df16e73830a5825efb/5efe8/blog-logo.png" data-srcset="/static/95b27f7aa5ab05df16e73830a5825efb/490e4/blog-logo.png 150w,/static/95b27f7aa5ab05df16e73830a5825efb/b2981/blog-logo.png 299w,/static/95b27f7aa5ab05df16e73830a5825efb/5efe8/blog-logo.png 598w" alt="Blog Logo"/></picture><noscript><picture><source type="image/webp" srcSet="/static/95b27f7aa5ab05df16e73830a5825efb/88084/blog-logo.webp 150w,/static/95b27f7aa5ab05df16e73830a5825efb/a065b/blog-logo.webp 299w,/static/95b27f7aa5ab05df16e73830a5825efb/47bfd/blog-logo.webp 598w" sizes="(min-width: 598px) 598px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 598px) 598px, 100vw" decoding="async" loading="lazy" src="/static/95b27f7aa5ab05df16e73830a5825efb/5efe8/blog-logo.png" srcSet="/static/95b27f7aa5ab05df16e73830a5825efb/490e4/blog-logo.png 150w,/static/95b27f7aa5ab05df16e73830a5825efb/b2981/blog-logo.png 299w,/static/95b27f7aa5ab05df16e73830a5825efb/5efe8/blog-logo.png 598w" alt="Blog Logo"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div><style data-emotion="css 1an41nv">.css-1an41nv{position:absolute;width:1px;height:1px;overflow:hidden;top:-9999px;}</style><span class="css-1an41nv">Home</span></a></div><style data-emotion="css 17pk10b">.css-17pk10b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;}</style><div class="css-17pk10b"><style data-emotion="css 1sg9vzq">.css-1sg9vzq{padding:8px;}</style><a class="css-1sg9vzq" href="/about">About</a><a class="css-1sg9vzq" href="/contact">Contact</a><style data-emotion="css vry94m">.css-vry94m{box-sizing:border-box;margin:0;min-width:0;color:#fff;-webkit-text-decoration:none;text-decoration:none;}</style><a href="/" class="languageSelector languageSelectorSelected css-vry94m">EN</a><a href="/pt" class="languageSelector  css-vry94m">PT</a></div><style data-emotion="css 1lx7s8t">.css-1lx7s8t{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;-webkit-order:2;-ms-flex-order:2;order:2;}</style><div class="css-1lx7s8t"><div><style data-emotion="css dlo3m6">.css-dlo3m6{box-sizing:border-box;margin:0;min-width:0;display:block;width:100%;padding:8px;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;font-size:inherit;line-height:inherit;border:1px solid;border-radius:4px;color:inherit;background-color:transparent;--theme-ui-input-autofill-bg:var(--theme-ui-colors-background);}.css-dlo3m6:autofill,.css-dlo3m6:autofill:hover,.css-dlo3m6:autofill:focus{box-shadow:inset 0 0 0 1000px var(--theme-ui-input-autofill-bg);font-size:inherit;}.css-dlo3m6:autofill:first-line,.css-dlo3m6:autofill:hover:first-line,.css-dlo3m6:autofill:focus:first-line{font-size:1rem;}.css-dlo3m6:-webkit-autofill,.css-dlo3m6:-webkit-autofill:hover,.css-dlo3m6:-webkit-autofill:focus{box-shadow:inset 0 0 0 1000px var(--theme-ui-input-autofill-bg);font-size:inherit;}.css-dlo3m6:-webkit-autofill:first-line,.css-dlo3m6:-webkit-autofill:hover:first-line,.css-dlo3m6:-webkit-autofill:focus:first-line{font-size:1rem;}</style><input placeholder="Search an article" value="" style="background-color:#fff;color:#000" class="css-dlo3m6"/></div></div></header></div><style data-emotion="css 1kfqeof">.css-1kfqeof{width:100%;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><main class="css-1kfqeof"><style data-emotion="css 1od5tk4">.css-1od5tk4{box-sizing:border-box;margin:0;min-width:0;width:100%;max-width:1024px;margin-left:auto;margin-right:auto;padding:32px;background-color:var(--theme-ui-colors-muted);}</style><div class="css-1od5tk4"><button id="scroll-btn" type="button" class="sidebar-btns" title="Scroll to top" aria-label="Scroll to top"></button><h1>Using Spring Batch to create an ETL for financial information</h1><p>February 14, 2020</p><div><style data-emotion="css tj7avn">.css-tj7avn{color:var(--theme-ui-colors-text);font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",sans-serif;font-weight:400;line-height:1.5;}</style><p class="css-tj7avn">I&#x27;ve started to play with Spring Batch and ETLs and this is what I&#x27;ve got (so far)….</p><p class="css-tj7avn">The year of 2019 has been very intense for me because I&#x27;ve had the opportunity to learn a lot about Web development using Java Spring and DevOps culture in general. However, there is a saying: &quot;The more you know, the more you realize you don&#x27;t know&quot;. So here I was looking a way to deepen even further my knowledge about the Spring ecosystem, when I&#x27;ve got curious on Spring Batch project.</p><p class="css-tj7avn">For those who don&#x27;t know Spring Batch is a subproject from Spring framework aimed for batch processing. This project contains many resources in its toolset that allows a systematic, deterministic and trackable execution of batch jobs. An interesting example of application is the use Spring Batch to process a data streaming such as a spreadsheet or a database. And this is the very first example I&#x27;m going to show here launching my first article for real in my blog =D</p><p class="css-tj7avn">While searching for a nice use case to understand a little more of Spring Batch and since last that last year I was part of a group of study in data science, a university extension program from UNILA, which you can check more about it here <style data-emotion="css fmslpk">.css-fmslpk{color:#fff;-webkit-text-decoration:none;text-decoration:none;}</style><a href="https://medialabfoz.com/gecd/" class="css-fmslpk">link</a>, I&#x27;ve come to know the concept of ETL.</p><style data-emotion="css net0mi">.css-net0mi{color:var(--theme-ui-colors-text);font-family:inherit;line-height:1.125;font-weight:700;font-size:24px;}</style><h2 class="css-net0mi">ELT (TL;DR)</h2><p class="css-tj7avn">A ETL is an acronym which means Extract Transform and Load. The idea itself is very simple and consists in operations that involve big amounts of data. These operations are made basically in three steps: extraction, transformation and loading (or storage). <a href="https://en.wikipedia.org/wiki/Extract,_transform,_load" class="css-fmslpk">Complete definition on Wikipedia</a>.</p><p class="css-tj7avn">Its use is very common for transferring one, or even many data from a storage dataset into another one. And between the origin and destination it is possible to make transformations in the data such as aggregation, formatting and other things.</p><h2 class="css-net0mi">Description of the problem I&#x27;ve hunted</h2><p class="css-tj7avn">With this concept in mind, I needed a dataset to begin with. Since I really enjoy learning more about financial products, such as fixed income, stocks and real state investment trusts, I&#x27;ve searched something involving these types of data. And then I&#x27;ve discovered that CVM (Brazilian equivalent of American&#x27;s SEC or UK&#x27;s FCA) has an <a href="http://dados.cvm.gov.br/" class="css-fmslpk">open data portal</a> where it is possible to download a huge amount of spreadsheets related to investment funds such as daily report, register data and many others.</p><p class="css-tj7avn">From the data sets available through CVM, there is a set called &quot;Daily report&quot; (informe diário), which according to CVM it has financial statements such as:</p><ul class="css-0"><li class="css-0">Market Cap</li><li class="css-0">Net worth</li><li class="css-0">Single share value</li><li class="css-0">Fundraising during the day</li><li class="css-0">Reclaims paid during the day</li><li class="css-0">Number of shareholders</li></ul><p class="css-tj7avn">I&#x27;ve downloaded a spreadsheet of a random day and boom! A CSV with more than 200,000 lines of structured data. Perfect to roll up my sleeves and starting to play. </p><p class="css-tj7avn">Every row in the CSV file represents information about an investment fund in a given day. From the dozens of columns available in the spreadsheet, I&#x27;ve peeked some to use on my ETL solution such as:</p><ol class="css-0"><li class="css-0">CNPJ of the funds&#x27; issuing company (CNPJ is a Brazilian equivalent of American EIN or UK&#x27;s Employer Number)</li><li class="css-0">Referenced date</li><li class="css-0">Total Value</li><li class="css-0">Quota(share) Value</li><li class="css-0">Net Worth</li><li class="css-0">Fundraising during the day(total of deposits)</li><li class="css-0">Reclaims paid during the day(total of withdraws)</li><li class="css-0">Number of shareholders (quote owners)</li></ol><p class="css-tj7avn">For the first step I thought in doing only a simple ETL, which means load the information from de CSV and store them in a MySQL database. But in order to do at least one thing in the transformation step, I&#x27;ve just simply removed CPNJ field formatting by stripping dots and slashes and saving only digits. In Brazil a CNPJ is often represented like <code class="css-0">XX.XXX.XXX/0001-XX</code>, so I&#x27;ve just converted to <code class="css-0">XXXXXXXX0001XX</code>.</p><p class="css-tj7avn">The napkin sketch of my solution were something like that:</p><p class="css-tj7avn"><a href="https://i.imgur.com/4ID6lG9.png" class="css-fmslpk"><style data-emotion="css 16uw51n">.css-16uw51n{display:block;max-width:100%;margin-left:auto;margin-right:auto;}</style><img src="https://i.imgur.com/4ID6lG9.png" alt="ETL Schema" title="ETL Schema" class="css-16uw51n"/></a></p><p class="css-tj7avn">The idea is, read the CSV file, performing an ETL using Spring Batch, save information in database table using Spring data and finally use Spring Web to publish the information in JSON format through an API.</p><p class="css-tj7avn">The data schema of the database entity I&#x27;ve created into the database is the following:</p><p class="css-tj7avn"><a href="https://i.imgur.com/Wp41TkJ.png" class="css-fmslpk"><img src="https://i.imgur.com/Wp41TkJ.png" alt="DailyInform" title="Daily Inform" class="css-16uw51n"/></a></p><p class="css-tj7avn">Now that the general idea and architecture of the solution is shown, let&#x27;s write a bit of code!</p><h2 class="css-net0mi">Step 1, making my &quot;Hello World&quot; with Spring Batch</h2><p class="css-tj7avn">In order to use Spring Batch, first you need to insert its dependencies into your project. You can begin by creating a project in Spring Initializr by picking the following projects:</p><ul class="css-0"><li class="css-0">Spring boot starter data jpa: (to connect to the database)</li><li class="css-0">Spring boot starter web: (to create the web layer responsible to expose data via an API REST using JSON).</li><li class="css-0">mySql-connector-java: For this tutorial I&#x27;ve chosen MySQL but any other relational database will do.</li><li class="css-0">spring-boot-starter-batch: The shining star of the solution, it contains the necessary classes to use Spring Batch.</li></ul><p class="css-tj7avn"><a href="https://i.imgur.com/SwwyBT1.png" class="css-fmslpk"><img src="https://i.imgur.com/SwwyBT1.png" alt="SpringInitializr" title="Spring Initializr" class="css-16uw51n"/></a></p><p class="css-tj7avn">Once the Zip file is downloaded, just open it in your favorite IDE and start coding!</p><p class="css-tj7avn">First it is necessary to create the entity <code class="css-0">DailyInform</code>, that will be the final form where the converted information from the spreadsheet will be stored as table in the database.</p><deckgo-highlight-code language="java">
          <style data-emotion="css 1q7q4hh">.css-1q7q4hh{font-family:Menlo,monospace;font-size:inherit;}</style><code slot="code" class="css-1q7q4hh">import javax.persistence.*;
import javax.validation.constraints.NotNull;
import java.io.Serializable;
import java.math.BigDecimal;
import java.time.LocalDate;

@Entity
@Table(indexes = {
       @Index(columnList = &quot;cnpj&quot;, name = &quot;cnpj_hidx&quot;),
       @Index(columnList = &quot;referenceDate&quot;, name = &quot;reference_date_hidx&quot;)},
       uniqueConstraints = @UniqueConstraint(columnNames = { &quot;cnpj&quot;, &quot;referenceDate&quot; }))
public class DailyInform implements Serializable {

   @Id
   @GeneratedValue(strategy = GenerationType.AUTO)
   private Long id;

   @NotNull
   @CNPJ
   @Column(nullable = false)
   private String cnpj;

   @NotNull
   @Column(nullable = false)
   private LocalDate referenceDate;

   @NotNull
   @Column(nullable = false)
   private BigDecimal totalValue;

   @NotNull
   @Column(nullable = false)
   private BigDecimal quotaValue;

   @NotNull
   @Column(nullable = false)
   private BigDecimal netWorth;

   @NotNull
   @Column(nullable = false)
   private BigDecimal totalDeposits;

   @NotNull
   @Column(nullable = false)
   private BigDecimal totalWithdrawals;

   @NotNull
   @Column(nullable = false)
   private Long numberOfQuotaHolders;

   public DailyInform() {};

   public DailyInform(String cnpj, LocalDate referenceDate,
                      BigDecimal totalValue, BigDecimal quotaValue,
                      BigDecimal netWorth, BigDecimal totalDeposits,
                      BigDecimal totalWithdrawals, Long numberOfQuotaHolders) {
       this.cnpj = cnpj;
       this.referenceDate = referenceDate;
       this.totalValue = totalValue;
       this.quotaValue = quotaValue;
       this.netWorth = netWorth;
       this.totalDeposits = totalDeposits;
       this.totalWithdrawals = totalWithdrawals;
       this.numberOfQuotaHolders = numberOfQuotaHolders;
   }

   @Override
   public String toString() {
       return &quot;DailyInform{&quot; +
               &quot;cnpj=&#x27;&quot; + cnpj + &#x27;\&#x27;&#x27; +
               &quot;, referenceDate=&quot; + referenceDate +
               &quot;, quotaValue=&quot; + quotaValue +
               &#x27;}&#x27;;
   }
   // .... Getters/Setters
}</code>
        </deckgo-highlight-code><p class="css-tj7avn">Notice that this is an elementary JPA entity just to show the concepts. I&#x27;ve also added some indexes to improve query performance.</p><p class="css-tj7avn">The batch processing in Spring is executed through Jobs. A job is made of Steps that define successive tasks of reading, transformation and writing (for this tutorial I&#x27;ve made a Job with a single Step). The Step basically has three elements:</p><ol class="css-0"><li class="css-0">A reader: Defines what and how is going to be read. In the step it is defined from where that data will come (in this case a spreadsheet), and which columns will be digested.</li><li class="css-0">A processor: Defines a transformation operation the read data will have to go through until is ready to be written. It receives an entry object and returns another object.</li><li class="css-0">A writer: It defines where the just processed data will be written, in this tutorial we will use a Repository bean to write information into the database. </li></ol><p class="css-tj7avn">To use a Job in SpringBatch it is necessary to configure it first. The snippet below is an example of a <code class="css-0">@Configuration</code> bean (the complete code you&#x27;ll find in my GitHub):</p><deckgo-highlight-code language="java">
          <code slot="code" class="css-1q7q4hh">@Configuration
@EnableBatchProcessing
public class SpringBatchConfiguration {

   @Bean
   public Job job(JobBuilderFactory jobBuilderFactory,
                  StepBuilderFactory stepBuilderFactory,
                  ItemReader&lt;DailyInform&gt; itemReader,
                  ItemProcessor&lt;DailyInform, DailyInform&gt; itemProcessor,
                  ItemWriter&lt;DailyInform&gt; itemWriter) {

       Step step = stepBuilderFactory.get(&quot;ETL-file-load&quot;)
               .&lt;DailyInform, DailyInform&gt;chunk(1000)
               .reader(itemReader)
              .processor(itemProcessor)
               .writer(itemWriter)
               .build();

       return jobBuilderFactory.get(&quot;ETL-Load&quot;)
                               .incrementer(new RunIdIncrementer())
                               .start(step)
                               .build();
   }
   // more beans will come
}
</code>
        </deckgo-highlight-code><p class="css-tj7avn">As it can be seen on line 25, it is necessary to use an annotation <code class="css-0">@EnableBatchProcessing</code> to habilitate Spring Batch in the project. The Job is exposed to the application through a bean, being managed by the Spring Container. The method <code class="css-0">job</code> receive five parameters: <code class="css-0">jobBuilderFactory</code>, <code class="css-0">stepBuilderFactory</code>, <code class="css-0">itemReader</code>, <code class="css-0">itemProcessor</code> and <code class="css-0">itemWriter</code>. The factories are injected by Spring itself, and it&#x27;s up to us to define other parameters through beans in the application. Once defined, Spring can inject them into the method and create the <code class="css-0">Job</code>. Notice that reader, processor and writer types are strongly typed according to the modeled entity <code class="css-0">DailyInform</code>. It is perfectly possible to model a flux where reading is a type, converted to another type during processing and later written in the write stage. But in order to keep things simple in this tutorial, I will stick with the idea to keep the same type during the whole cycle.</p><p class="css-tj7avn">Thanks to dependency injection, Spring is able to assemble the Job using a reader, processor and writer that will also be application beans. I&#x27;m going to explain how they are created and the details of each one of them in the sessions below.</p><h2 class="css-net0mi">Step 2 - Creating the reading bean</h2><p class="css-tj7avn">We can create a reading bean from class <code class="css-0">FlatFileItemReader&lt;T&gt;</code>, a class that indirectly implements the interface <code class="css-0">ItemReader&lt;T&gt;</code>. The easiness of using this class comes from its design specially made for reading files row by row (perfect for this CSV example). Its configuration is relatively simple, however it demands the creation of another auxiliary bean. An implementation example follows:</p><deckgo-highlight-code language="java">
          <code slot="code" class="css-1q7q4hh">@Bean
public FlatFileItemReader&lt;DailyInform&gt; fileItemReader(@Value(&quot;${input}&quot;) Resource resource) {
   FlatFileItemReader&lt;DailyInform&gt; fileItemReader = new FlatFileItemReader&lt;&gt;();
   fileItemReader.setResource(resource);
   fileItemReader.setEncoding(&quot;ISO-8859-3&quot;);
   fileItemReader.setName(&quot;CSV-Reader&quot;);
   fileItemReader.setLinesToSkip(1);
   fileItemReader.setLineMapper(lineMapper());
   return fileItemReader;
}</code>
        </deckgo-highlight-code><p class="css-tj7avn">In whitch:</p><p class="css-tj7avn">Input: <code class="css-0">Resource</code> (a reference to the .csv file), here I&#x27;ve set up the path in an environment variable for convenience.</p><p class="css-tj7avn">Output: An object from type <code class="css-0">FlatFileItemReader&lt;DailyInform&gt;</code> where I define:</p><ul class="css-0"><li class="css-0">The resource to be read.</li><li class="css-0">The file encoding, in this case I&#x27;ve discovered that the spreadsheet is not in UTF-8, therefore I needed to inform the correct encoding so there were no misreading parsing for special characters from Portuguese such as à, ó and ã for example.</li><li class="css-0">Name of this bean: Probably used by Spring for an internal index of this reader.</li><li class="css-0">Jumping lines: I&#x27;ve set up the value &quot;1&quot; so it skips the header and goes straight to the data.</li><li class="css-0">The <code class="css-0">LineMapper</code>: The auxiliary bean need to configure the reading policies, its creation will be detailed below.</li></ul><style data-emotion="css 14j2joi">.css-14j2joi{color:var(--theme-ui-colors-text);font-family:inherit;line-height:1.125;font-weight:700;font-size:20px;}</style><h3 class="css-14j2joi">Assembling the LineMapper</h3><p class="css-tj7avn">The <code class="css-0">LineMapper</code> is the bean that basically defines the reading logic such as: What character is the column delimiter, the column names and also how to convert to an object each row read. Its construction goes as follows:</p><deckgo-highlight-code language="java">
          <code slot="code" class="css-1q7q4hh">@Bean
public LineMapper&lt;DailyInform&gt; lineMapper() {
   DefaultLineMapper&lt;DailyInform&gt; defaultLineMapper = new DefaultLineMapper&lt;&gt;();
   DelimitedLineTokenizer lineTokenizer = new DelimitedLineTokenizer();

   lineTokenizer.setDelimiter(&quot;;&quot;);

   lineTokenizer.setNames(&quot;CNPJ_FUNDO&quot;,
                          &quot;DT_COMPTC&quot;,
                          &quot;VL_TOTAL&quot;,
                          &quot;VL_QUOTA&quot;,
                          &quot;VL_PATRIM_LIQ&quot;,
                          &quot;CAPTC_DIA&quot;,
                          &quot;RESG_DIA&quot;,
                          &quot;NR_COTST&quot;);
   lineTokenizer.setStrict(false);

   DailyInformFieldSetMapper dailyInformFieldSetMapper = new DailyInformFieldSetMapper();

   defaultLineMapper.setLineTokenizer(lineTokenizer);
   defaultLineMapper.setFieldSetMapper(dailyInformFieldSetMapper);

   return defaultLineMapper;
}
</code>
        </deckgo-highlight-code><p class="css-tj7avn">The returned object by this method is an instance of class <code class="css-0">DefaultLineMaper</code>, which implements the interface <code class="css-0">LineMapper</code>, where is configured:</p><ul class="css-0"><li class="css-0">The delimiter: in the case of the downloaded CSV file from CVM, the character <code class="css-0">;</code> has been used to split the data for each column.</li><li class="css-0">Define the tokens (or names) of each column that will be read, as well how many will be processed. Later these names are going to be used by the bean responsible to insert the information of each line in a POJO <code class="css-0">DailyInform</code>.</li><li class="css-0">Set strict reading: In case of true, every line needs to have the exact number of columns, if this option is false SpringBatch accepts reading lines which may not have the same number of columns as defined by the tokens. When this happens, the missing values will be filled with empty, if there are more columns than tokens they will simply be ignored.</li><li class="css-0">The <code class="css-0">fieldsetmapper</code>: Bean which defines how the data read from rows will be converted into a POJO. In this case I&#x27;ve created a class called <code class="css-0">DailyInformFieldSetMapper</code> responsible for this job.</li></ul><h3 class="css-14j2joi">The DailyInformFieldSetMapper (because there is no such thing as magic)</h3><p class="css-tj7avn">This class implements the interface <code class="css-0">FieldSetMapper&lt;T&gt;</code>, that by its contract, demands the implementation of the method <code class="css-0">&lt;T&gt; mapFieldSet(FieldSet fieldSet)</code>, this method receives as a parameter a line read by <code class="css-0">LineMapper</code> and it&#x27;s responsible to for setting the attributes from class <code class="css-0">DailyInform</code> with each token data. This is the very heart of data conversion from a CSV line into a Java object (that&#x27;s why I&#x27;ve said before that there&#x27;s no such thing as magic xD). The class has only the method <code class="css-0">mapFieldSet</code> and stands as below:</p><deckgo-highlight-code language="java">
          <code slot="code" class="css-1q7q4hh">public class DailyInformFieldSetMapper implements FieldSetMapper&lt;DailyInform&gt; {

   @Override
   public DailyInform mapFieldSet(FieldSet fieldSet) throws BindException {
       final DailyInform dailyInform = new DailyInform();
       dailyInform.setCnpj(fieldSet.readString(&quot;CNPJ_FUNDO&quot;));
       dailyInform.setReferenceDate(fieldSet.readDate(&quot;DT_COMPTC&quot;)
                  .toInstant().atZone(ZoneId.systemDefault()).toLocalDate());
       dailyInform.setTotalValue(fieldSet.readBigDecimal(&quot;VL_TOTAL&quot;));
       dailyInform.setQuotaValue(fieldSet.readBigDecimal(&quot;VL_QUOTA&quot;));
       dailyInform.setNetWorth(fieldSet.readBigDecimal(&quot;VL_PATRIM_LIQ&quot;));
       dailyInform.setTotalDeposits(fieldSet.readBigDecimal(&quot;CAPTC_DIA&quot;));
       dailyInform.setTotalWithdrawals(fieldSet.readBigDecimal(&quot;RESG_DIA&quot;));
       dailyInform.setNumberOfQuotaHolders(fieldSet.readLong(&quot;NR_COTST&quot;));
       return dailyInform;
   }
}
</code>
        </deckgo-highlight-code><p class="css-tj7avn">With those steps done, everything is set and configured for the reading step, now there are only two remaining steps: transformation and writing. Fortunately they are simpler as I&#x27;ll show below.</p><h2 class="css-net0mi">Step 3 - Configuring the Processor</h2><p class="css-tj7avn">The class <code class="css-0">DailyInformProcessor</code> is responsible for transforming operations upon the object <code class="css-0">DailyInform</code>. In this stage is possible to perform all kinds of operations such as apply calculations, formatting, data aggregation and even convert the output to another completely different object. In the case of this tutorial, just as an example I&#x27;ve used this step to format the CNPJ value from companies by removing dots and slashes. For that I borrowed a help from a library called <a href="http://stella.caelum.com.br/" class="css-fmslpk">Alura Stella</a>, which contain many helping functions to manipulate Brazilian documents. Besides, I haven&#x27;t modified the type of the output object (<code class="css-0">DailyInform</code> comes in, <code class="css-0">DailyInform</code> comes out). The class has a very simple implementation and stands as follows:</p><deckgo-highlight-code language="java">
          <code slot="code" class="css-1q7q4hh">@Component
public class DailyInformProcessor implements ItemProcessor&lt;DailyInform, DailyInform&gt; {

   @Autowired
   private CNPJFormatter cnpjFormatter;

   @Override
   public DailyInform process(DailyInform dailyInform) throws Exception {
       dailyInform.setCnpj(cnpjFormatter.unformat(dailyInform.getCnpj()));
       return dailyInform;
   }
}
</code>
        </deckgo-highlight-code><p class="css-tj7avn">Notice that it&#x27;s necessary to implement the methods <code class="css-0">process</code> from interface <code class="css-0">ItemProcessor</code>, very self-explanatory.</p><p class="css-tj7avn">Lastly, there&#x27;s only the writing stage to build.</p><h2 class="css-net0mi">Step 4 - Configuring Writing</h2><p class="css-tj7avn">First, let&#x27;s create a repository for the entity <code class="css-0">DailyInform</code> which is going to be used by <code class="css-0">Writer</code> to writer data into the Database.</p><deckgo-highlight-code language="java">
          <code slot="code" class="css-1q7q4hh">@Repository
public interface DailyInformRepository extends JpaRepository&lt;DailyInform, Long&gt; {
   List&lt;DailyInform&gt; findDistinctByCnpj(String cnpj);
}
</code>
        </deckgo-highlight-code><p class="css-tj7avn">It&#x27;s a simple repository used by Spring Data without any hidden mystery. I&#x27;ve just added a method to find daily inform via CNPJ because I&#x27;ve created an endpoint in the web layer that shows results by company.</p><p class="css-tj7avn">Created the repository, now it is just to create the <code class="css-0">Writer</code>, which basically is a Spring component that implements the interface <code class="css-0">ItemWeriter</code>:</p><deckgo-highlight-code language="java">
          <code slot="code" class="css-1q7q4hh">@Component
public class DBWriter implements ItemWriter&lt;DailyInform&gt; {

   private final DailyInformRepository dailyInformRepository;

   @Autowired
   public DBWriter(DailyInformRepository dailyInformRepository) {
       this.dailyInformRepository = dailyInformRepository;
   }

   @Override
   public void write(List&lt;? extends DailyInform&gt; list) {
       dailyInformRepository.saveAll(list);
   }
}
</code>
        </deckgo-highlight-code><p class="css-tj7avn">The only method that the interface demands implementation is <code class="css-0">write</code>. This method gets a list with data (the chunks that were transformed from the previous step), which in turn I send to the database using <code class="css-0">DailyInformRepository</code>, by injecting the latter into the class by the attribute <code class="css-0">dailyInformRepository</code>. The JPA repositories have a method called <code class="css-0">saveAll</code> which accepts a Java collection that is going to be saved in the database. By performing these steps the information is persisted, and the data finally get to its final destination =D</p><h2 class="css-net0mi">Bonus - Web Layer</h2><p class="css-tj7avn">Once the data has been persisted into the database, it is fairly simple to create a web layer to expose the information in JSON format. If you&#x27;re up to follow a very traditional architecture and want to follow a N-layers style, you can create a Service and a Controller. The snippets below show how to do that:</p><deckgo-highlight-code language="java">
          <code slot="code" class="css-1q7q4hh">@Service
public class FundsService {

   private final DailyInformRepository dailyInformRepository;

   @Autowired
   public FundsService(DailyInformRepository dailyInformRepository) {
       this.dailyInformRepository = dailyInformRepository;
   }

   @Transactional(readOnly = true)
   public List&lt;DailyInform&gt; getDailyInformByCNPJ(String cnpj) {
       return dailyInformRepository.findDistinctByCnpj(cnpj);
   }
}</code>
        </deckgo-highlight-code><p class="css-tj7avn">And the controller:</p><deckgo-highlight-code language="java">
          <code slot="code" class="css-1q7q4hh">@RestController
@RequestMapping(&quot;/api/daily-informs&quot;)
public class FundsController {

   private final FundsService fundsService;

   @Autowired
   public FundsController(FundsService fundsService) {
       this.fundsService = fundsService;
   }

   @GetMapping(&quot;/{cnpj}&quot;)
   public ResponseEntity&lt;List&lt;DailyInform&gt;&gt; all(@PathVariable(&quot;cnpj&quot;) String cnpj) {
       return ResponseEntity.of(Optional.of(fundsService.getDailyInformByCNPJ(cnpj)));
   }
}
</code>
        </deckgo-highlight-code><p class="css-tj7avn">About these two components I have the following points:</p><ol class="css-0"><li class="css-0">Notice that I inject the repository into the service and the service into the controller. Following the architecture guidelines of N-layers, exposing the data layer only to the service layer.</li><li class="css-0">In <code class="css-0">FundsService</code> I&#x27;ve inserted an annotation <code class="css-0">@Transaction</code> with its parameter <code class="css-0">readonly</code> set to true. This way I tell Spring to open a transactional context in the method that won&#x27;t perform writing operations into the database, achieving a transactional behavior with a performance gain.</li><li class="css-0">In the controller I&#x27;ve decided to use CNPJ as a <code class="css-0">PathParam</code>, but there are other ways this can be done (through a non-nullable query parameter for example).</li><li class="css-0">Lastly I&#x27;ve injected all components through class constructors, I prefer doing this way because I can declare my dependencies as <code class="css-0">final</code>, so the class attributes are immutable.</li></ol><h2 class="css-net0mi">Firing in up!</h2><p class="css-tj7avn">With all said and done now it&#x27;s time to run this batch. To run the job as soon as Spring starts I&#x27;ve implemented a interface called <code class="css-0">CommandLineRunner</code> in the main class which runs the configured job. The result is as follows:</p><deckgo-highlight-code language="java">
          <code slot="code" class="css-1q7q4hh">@SpringBootApplication
public class BatchProcessingApplication implements CommandLineRunner {

   @Bean
   public CNPJFormatter cnpjFormatter() {
       return new CNPJFormatter();
   }

   @Autowired
   private JobLauncher jobLauncher;

   @Autowired
   private Job job;

   public static void main(String[] args) {
       SpringApplication.run(BatchProcessingApplication.class, args);
   }

   @Override
   public void run(String... args) throws Exception {
       jobLauncher.run(job, new JobParameters());
   }
}
</code>
        </deckgo-highlight-code><p class="css-tj7avn">The <code class="css-0">job</code> bean is detected automatically by Spring, and it comes from the <code class="css-0">Job</code> created in the configuration file, besides, it is necessary a <code class="css-0">JobLaucher</code> which is nothing more that a bean provided by Spring you can use it to launch your job. We do this by inserting the attribute <code class="css-0">job</code> autowired inside the method <code class="css-0">run</code> from <code class="css-0">jobLauncher</code>. The parameter <code class="css-0">JobParameters</code> is basically a Wrapper with a <code class="css-0">Map&lt;String, Object&gt;</code> which allows you to send parameters to the job going to be launched (it&#x27;s not going to be used at this tutorial, so we can leave it as an empty instance).</p><p class="css-tj7avn">With this done, the application is ready to be run (by running the main method). Check that your database is running and it&#x27;s reachable for your application.</p><p class="css-tj7avn">In my machine it took about 90 minutes to process 200k lines of data.</p><p class="css-tj7avn"><a href="https://i.imgur.com/gIyfW6P.png" class="css-fmslpk"><img src="https://i.imgur.com/gIyfW6P.png" alt="Results Cmd" title="Resultados em execução" class="css-16uw51n"/></a></p><p class="css-tj7avn">This is how the database looks like:</p><p class="css-tj7avn"><a href="https://i.imgur.com/jf34chM.png" class="css-fmslpk"><img src="https://i.imgur.com/jf34chM.png" alt="Results DB" title="Resultados no banco" class="css-16uw51n"/></a></p><p class="css-tj7avn">This is the result by calling the endpoint I&#x27;ve created to bring results by CNPJ. Cool isn&#x27;t it ? XD</p><p class="css-tj7avn"><a href="https://i.imgur.com/XmSLgAA.png" class="css-fmslpk"><img src="https://i.imgur.com/XmSLgAA.png" alt="Results JSON" title="Resultados JSON" class="css-16uw51n"/></a></p><h2 class="css-net0mi">Conclusion</h2><p class="css-tj7avn">Wow if you&#x27;ve got so far congratulations! Hehehe this tutorial got bigger than I thought, but is fine to start this blog with the right foot. It&#x27;s obvious that there is much to improve, but now I have &quot;a north&quot; and I expect to write 2 articles here every month.</p><p class="css-tj7avn">Regarding the application, well it worked, but I believe that there is way too many improvement points. Some stuff I&#x27;ve already discovered how to improve and can write about it in another article. An example is what to do if there&#x27;s a line with irregular information in the spreadsheet? The way it stands now the whole job stops running. Since this is not desirable, it is necessary to define a tolerance policy and error registration. Another thing that is also possible to do is running the execution in parallel, how to make more efficient? Is there additional database configs that can be made? Stay tuned for more content coming up.</p><p class="css-tj7avn">I hope you&#x27;ve enjoyed my first article and I ask you to share with your collegues. Feel free to comment, the more feedback received the better!</p><p class="css-tj7avn"><a href="https://github.com/lcastrooliveira/funds_daily_report" class="css-fmslpk">Application GitHub</a></p><h3 class="css-14j2joi">References</h3><p class="css-tj7avn">For more reference pleas go the following sites. I&#x27;ve made this tutorial based on them.</p><ul class="css-0"><li class="css-0"><a href="https://maven.apache.org/guides/index.html" class="css-fmslpk">Official Apache Maven documentation</a></li><li class="css-0"><a href="https://docs.spring.io/spring-boot/docs/2.2.1.RELEASE/maven-plugin/" class="css-fmslpk">Spring Boot Maven Plugin Reference Guide</a></li><li class="css-0"><a href="https://docs.spring.io/spring-boot/docs/2.2.1.RELEASE/reference/htmlsingle/#howto-batch-applications" class="css-fmslpk">Spring Batch</a></li></ul><h3 class="css-14j2joi">Guide</h3><p class="css-tj7avn">This guide also is very good and comes from Spring itself, I recommend for everyone who wants that to learn further.</p><ul class="css-0"><li class="css-0"><a href="https://spring.io/guides/gs/batch-processing/" class="css-fmslpk">Creating a Batch Service</a></li></ul><p class="css-tj7avn">Cheers;</p></div><div id="disqus_thread"></div></div></main><div class="css-1tsye3q"><style data-emotion="css 1tg3sbe">.css-1tg3sbe{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;padding:8px;}</style><footer class="css-1tg3sbe"><div class="css-1sg9vzq">© 2022 Lucas de Castro Oliveira</div></footer></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/posts/2020/2020-02-14-spring-batch/";window.___webpackCompilationHash="822e9c4dcd8a44648396";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-767cf05b533a4ae9d406.js"],"app":["/app-4d34178d7e4645edae03.js"],"component---src-components-tags-js":["/component---src-components-tags-js-463866e5df0a73eca154.js"],"component---src-pages-404-js":["/component---src-pages-404-js-aec92ca38bafe50dd08c.js"],"component---src-pages-about-js":["/component---src-pages-about-js-8b08a263a012be06710c.js"],"component---src-pages-contact-js":["/component---src-pages-contact-js-9a7698cbeb01cd67245b.js"],"component---src-pages-index-js":["/component---src-pages-index-js-6db65a34262148564716.js"],"component---src-pages-tags-js":["/component---src-pages-tags-js-71294668d60ece1fd9e1.js"],"component---src-templates-post-page-template-js":["/component---src-templates-post-page-template-js-25a3624a989a35130dde.js"]};/*]]>*/</script><script src="/polyfill-767cf05b533a4ae9d406.js" nomodule=""></script><script src="/component---src-templates-post-page-template-js-25a3624a989a35130dde.js" async=""></script><script src="/95d32b32e96a6247500d795b14d67e6354a04d89-f51203b5a3fe19078cf0.js" async=""></script><script src="/99b7119fd52cd3d90c1cdad208f938f090fd7adb-8a5cdfe46015790e6966.js" async=""></script><script src="/app-4d34178d7e4645edae03.js" async=""></script><script src="/dbf3ce33-e9860c7ab2c3d4ec26ae.js" async=""></script><script src="/framework-d48bb74d9b35d2fed097.js" async=""></script><script src="/webpack-runtime-7f937db2baeac1d04e2f.js" async=""></script></body></html>